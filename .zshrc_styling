#!/bin/zsh

parse_git_branch() {
    git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/ [\1]/'
}

num_files() {
    local temp=$(git status -s 2> /dev/null | wc -l | sed 's/ //g')
    if [ $temp = '0' ]; then
        return
    else
        echo "%F{166}(${temp})%F{none}"
    fi
}

setopt PROMPT_SUBST

PROMPT='%F{214}%3~%F{112}$(parse_git_branch)%  $(num_files)%F{15} %% %f'
